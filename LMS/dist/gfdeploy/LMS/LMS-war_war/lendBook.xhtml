<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"  
                template="./layout/default.xhtml" 
                xmlns:h="http://xmlns.jcp.org/jsf/html" 
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"> 
    <ui:define name="title"> 
        New Lending Record 
    </ui:define> 

    <ui:define name="content">
        <p:dataTable var="member" 
                     value="#{memberManagedBean.members}" 
                     style="table-layout: auto;"> 
            <p:column headerText="Member ID"> 
                <h:outputText value="#{member.memberId}"/> 
            </p:column> 

            <p:column headerText="First Name"> 
                <h:outputText value="#{member.firstName}"/> 
            </p:column> 

            <p:column headerText="Last Name"> 
                <h:outputText value="#{member.lastName}"/> 
            </p:column> 

            <p:column headerText="Gender"> 
                <h:outputText value='M' rendered="#{member.gender == 'M'}"/>
                <h:outputText value='F' rendered="#{member.gender == 'F'}"/> 
            </p:column> 

            <p:column headerText="Age"> 
                <h:outputText value="#{member.age}"/> 
            </p:column> 

            <p:column headerText="Identity No"> 
                <h:outputText value="#{member.identityNo}"/> 
            </p:column> 

            <p:column headerText="Phone Number"> 
                <h:outputText value="#{member.phone}"/> 
            </p:column> 

            <p:column headerText="Address"> 
                <h:outputText value="#{member.address}"/> 
            </p:column>
        </p:dataTable>
        <br />
        
        <p:dataTable var="book" 
                     value="#{bookManagedBean.books}" 
                     style="table-layout: auto;"> 
            <p:column headerText="Book ID"> 
                <h:outputText value="#{book.bookId}"/> 
            </p:column> 

            <p:column headerText="Title"> 
                <h:outputText value="#{book.title}"/> 
            </p:column> 

            <p:column headerText="Isbn"> 
                <h:outputText value="#{book.isbn}"/> 
            </p:column> 

            <p:column headerText="Author"> 
                <h:outputText value="#{book.author}"/> 
            </p:column>
        </p:dataTable>
        <br />

        <h:form id="form"> 
            <p:panelGrid columns="2"> 
                <f:facet name="header"> 
                    Lend Book 
                </f:facet> 
                <p:outputLabel value="Member's Identity No: "/>
                <p:inputText value="#{lendAndReturnManagedBean.memberIdentityNo}"/>

                <p:outputLabel value="Book Title: "/>
                <p:inputText value="#{lendAndReturnManagedBean.bookTitle}"/>

            </p:panelGrid>
            <br />
            <h:commandButton value="Lend" 
                             actionListener="#{lendAndReturnManagedBean.addLendRecord}" 
                             action="searchLendRecords.xhtml?faces-redirect=true"/> 
        </h:form> 
    </ui:define>

</ui:composition>
