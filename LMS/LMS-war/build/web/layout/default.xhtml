<?xml version='1.0' encoding='UTF-8' ?>  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui">

    <h:head> 
        <meta http-equiv="Content-Type" content="text/html; 
              charset=UTF-8" /> 
        <h:outputStylesheet name="css/default.css"/> 
        <h:outputStylesheet name="css/cssLayout.css"/> 
        <title><ui:insert name="title">Title</ui:insert></title> 
        <style>
            body {
                background-image: url('westcoastcc.jpg');
                background-size: cover;
            }
        </style>
    </h:head> 


    <h:body> 
        <h:panelGroup rendered="#{authenticationManagedBean.loggedIn}"> 
            <p:layout> 
                <p:layoutUnit position="west" resizable="true"  
                              size="200" minSize="30" maxSize="800" collapsible="true"> 
                    Welcome back, <strong>#{authenticationManagedBean.userName} </strong>!<br /><br />
                    <!--                    <a href="createMember.xhtml">Create New Member</a><br /> 
                                        <a href="searchMembers.xhtml">List Members</a><br /><br />
                                        <a href="searchBooks.xhtml">List Books</a><br /><br />
                                        <a href="lendBook.xhtml">Lend Book</a><br />
                                        <a href="viewFineAmount.xhtml">View Fine Amount</a><br />
                                        <a href="returnBook.xhtml">Return Book</a><br />
                                        <a href="searchLendRecords.xhtml">List Lend Records</a><br /><br /><br />-->

                    <h:form> 
                        <p:menu toggleable="true">
                            <p:submenu label="Members">
                                <p:menuitem value="Register Member" action="createMember.xhtml?faces-redirect=true" icon="pi pi-users" />
                                <p:menuitem value="View Members" action="searchMembers.xhtml?faces-redirect=true" icon="pi pi-users" />
                            </p:submenu>
                        </p:menu>
                        <p:menu toggleable="true">
                            <p:submenu label="Books">
                                <p:menuitem value="View Books" action="searchBooks.xhtml?faces-redirect=true" icon="pi pi-users" />
                            </p:submenu>
                        </p:menu>
                        <p:menu toggleable="true">
                            <p:submenu label="Loan System">
                                <p:menuitem value="Lend Book" action="lendBook.xhtml?faces-redirect=true" icon="pi pi-users" />
                                <p:menuitem value="Return Book" action="returnBook.xhtml?faces-redirect=true" icon="pi pi-users" />
                                <p:menuitem value="View Fine Amount" action="viewFineAmount.xhtml?faces-redirect=true" icon="pi pi-users" />
                                <p:menuitem value="View Loan Records" action="searchLendRecords.xhtml?faces-redirect=true" icon="pi pi-users" />
                            </p:submenu>
                        </p:menu>
                        <p:menu toggleable="true">
                            <p:submenu label="Navigation">
                                <p:menuitem value="Return to Main Page" action="index.xhtml?faces-redirect=true" icon="pi pi-users" />
                            </p:submenu>
                        </p:menu>
                    </h:form>         

                    <h:form> 
                        <p:commandButton value="Logout" 
                                         action="#{authenticationManagedBean.logout}"/> 
                    </h:form>  
                </p:layoutUnit> 
                <p:layoutUnit position="center"> 
                    <ui:insert name="content">Content</ui:insert> 
                </p:layoutUnit> 
            </p:layout>
        </h:panelGroup>

        <h:panelGroup rendered="#{not authenticationManagedBean.loggedIn}">
            <h1>Library Management System (LMS) - West Coast Community Centre</h1>
            <h:graphicImage value="lms.jpeg" width="780" height="350"/>
            <h:form> 
                <br />
                <p:commandButton value="Proceed to Login" 
                                 action="login.xhtml?faces-redirect=true"/> 
            </h:form>   
        </h:panelGroup>
    </h:body> 

</html> 
